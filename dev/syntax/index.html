<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Syntax Reference · LanguageServer.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">LanguageServer.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Syntax Reference</a><ul class="internal"><li><a class="tocitem" href="#Main"><span>Main</span></a></li><li><a class="tocitem" href="#Requests"><span>Requests</span></a></li><li><a class="tocitem" href="#Protocol"><span>Protocol</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Syntax Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Syntax Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/julia-vscode/LanguageServer.jl/blob/master/docs/src/syntax.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Syntax-Reference"><a class="docs-heading-anchor" href="#Syntax-Reference">Syntax Reference</a><a id="Syntax-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax-Reference" title="Permalink"></a></h1><ul><li><a href="#LanguageServer.LanguageServerInstance"><code>LanguageServer.LanguageServerInstance</code></a></li><li><a href="#LanguageServer.Range-Tuple{LanguageServer.Document,UnitRange}"><code>LanguageServer.Range</code></a></li><li><a href="#LanguageServer.URI2"><code>LanguageServer.URI2</code></a></li><li><a href="#LanguageServer.get_line_offsets"><code>LanguageServer.get_line_offsets</code></a></li><li><a href="#LanguageServer.get_offset-Tuple{LanguageServer.Document,Integer,Integer}"><code>LanguageServer.get_offset</code></a></li><li><a href="#LanguageServer.get_position_at-Tuple{LanguageServer.Document,Integer}"><code>LanguageServer.get_position_at</code></a></li><li><a href="#LanguageServer.is_diag_dependent_on_env-Tuple{LanguageServer.Diagnostic}"><code>LanguageServer.is_diag_dependent_on_env</code></a></li><li><a href="#LanguageServer.runserver"><code>LanguageServer.runserver</code></a></li></ul><h2 id="Main"><a class="docs-heading-anchor" href="#Main">Main</a><a id="Main-1"></a><a class="docs-heading-anchor-permalink" href="#Main" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.Range-Tuple{LanguageServer.Document,UnitRange}" href="#LanguageServer.Range-Tuple{LanguageServer.Document,UnitRange}"><code>LanguageServer.Range</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Range(Doc, rng)</code></pre><p>Converts a byte offset range to a LSP Range.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/document.jl#LL240-L243">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.get_line_offsets" href="#LanguageServer.get_line_offsets"><code>LanguageServer.get_line_offsets</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_line_offsets(doc::Document)</code></pre><p>Updates the doc.<em>line</em>offsets field, an n length Array each entry of which  gives the byte offset position of the start of each line. This always starts  with 0 for the first line (even if empty).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/document.jl#LL154-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.get_offset-Tuple{LanguageServer.Document,Integer,Integer}" href="#LanguageServer.get_offset-Tuple{LanguageServer.Document,Integer,Integer}"><code>LanguageServer.get_offset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_offset(doc, line, char)</code></pre><p>Returns the byte offset position corresponding to a line/character position.  This takes 0 based line/char inputs. Corresponding functions are available for Position and Range arguments, the latter returning a UnitRange{Int}.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/document.jl#LL63-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.get_position_at-Tuple{LanguageServer.Document,Integer}" href="#LanguageServer.get_position_at-Tuple{LanguageServer.Document,Integer}"><code>LanguageServer.get_position_at</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_position_at(doc, offset)</code></pre><p>Returns the 0-based line and character position within a document of a given byte offset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/document.jl#LL216-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.is_diag_dependent_on_env-Tuple{LanguageServer.Diagnostic}" href="#LanguageServer.is_diag_dependent_on_env-Tuple{LanguageServer.Diagnostic}"><code>LanguageServer.is_diag_dependent_on_env</code></a> — <span class="docstring-category">Method</span></header><section><div><p>is<em>diag</em>dependent<em>on</em>env(diag::Diagnostic)::Bool</p><p>Is this diagnostic reliant on the current environment being accurately represented?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/requests/textdocument.jl#LL301-L305">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.LanguageServerInstance" href="#LanguageServer.LanguageServerInstance"><code>LanguageServer.LanguageServerInstance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LanguageServerInstance(pipe_in, pipe_out, env=&quot;&quot;, depot=&quot;&quot;, err_handler=nothing, symserver_store_path=nothing)</code></pre><p>Construct an instance of the language server.</p><p>Once the instance is <code>run</code>, it will read JSON-RPC from <code>pipe_out</code> and write JSON-RPC from <code>pipe_in</code> according to the <a href="https://microsoft.github.io/language-server-protocol/specifications/specification-3-14/">language server specification</a>. For normal usage, the language server can be instantiated with <code>LanguageServerInstance(stdin, stdout, false, &quot;/path/to/environment&quot;)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>pipe_in::IO</code>: Pipe to read JSON-RPC from.</li><li><code>pipe_out::IO</code>: Pipe to write JSON-RPC to.</li><li><code>env::String</code>: Path to the <a href="https://docs.julialang.org/en/v1.2/manual/code-loading/#Environments-1">environment</a> for which the language server is running. An empty string uses julia&#39;s default environment.</li><li><code>depot::String</code>: Sets the <a href="https://docs.julialang.org/en/v1.2/manual/environment-variables/#JULIA_DEPOT_PATH-1"><code>JULIA_DEPOT_PATH</code></a> where the language server looks for packages required in <code>env</code>.</li><li><code>err_handler::Union{Nothing,Function}</code>: If not <code>nothing</code>, catch all errors and pass them to an error handler function with signature <code>err_handler(err, bt)</code>. Mostly used for the VS Code crash reporting implementation.</li><li><code>symserver_store_path::Union{Nothing,String}</code>: if <code>nothing</code> is passed, the symbol server cash is stored in a folder in the package. If an absolute path is passed, the symbol server will store the cache files in that path. The path must exist on disc before this is called.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/languageserverinstance.jl#LL3-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.run-Tuple{LanguageServerInstance}" href="#Base.run-Tuple{LanguageServerInstance}"><code>Base.run</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">run(server::LanguageServerInstance)</code></pre><p>Run the language <code>server</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/languageserverinstance.jl#LL228-L232">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.runserver" href="#LanguageServer.runserver"><code>LanguageServer.runserver</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">runserver(pipe_in=stdin, pipe_out=stdout[, env_path])</code></pre><p>Run a <code>LanguageServerInstance</code> reading from <code>pipe_in</code> and writing to <code>pipe_out</code>.</p><p>The same options can be passed to <code>runserver</code> as to <a href="#LanguageServer.LanguageServerInstance"><code>LanguageServerInstance</code></a>. If <code>env_path</code> is not specified, attempt to pick an environment by considering in order of priority:</p><ol><li><a href="@ref"><code>ARGS</code>[1]</a>: the first command-line argument passed to the invocation of <code>julia</code>.</li><li>The Julia project containing <a href="@ref"><code>pwd()</code></a>.</li><li>The default Julia environment withing <code>.julia/environments/v#.#</code>.</li></ol><p><strong>Examples</strong></p><p>The following invocation of Julia would set <code>env_path</code> to <code>/home/example/repos/Example.jl</code>:</p><pre><code class="language-sh">julia --project=/path/to/LanguageServer.jl \
  -e &quot;using LanguageServer, SymbolServer; runserver()&quot; \
  /home/example/repos/Example.jl</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Due to <a href="https://github.com/julia-vscode/LanguageServer.jl/issues/750">a current bug</a>, <code>SymbolServer</code> must be imported into <code>Main</code>.</p></div></div><p>If there was a <code>Project.toml</code> or <code>JuliaProject.toml</code> in <code>/home/example/repos/Example.jl/</code>, the following invocation would set <code>env_path</code> to <code>/home/example/repos/Example.jl/</code>; otherwise it would be set to <code>.julia/environments/v#.#</code> where <code>v#.#</code> is the major/minor version of Julia being invoked.</p><pre><code class="language-sh">julia --project=/path/to/LanguageServer.jl \
  -e &quot;using LanguageServer, SymbolServer; runserver()&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/runserver.jl#LL1-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LanguageServer.URI2" href="#LanguageServer.URI2"><code>LanguageServer.URI2</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A type that represents a URI. The main feature provided currently is that when the file:// scheme is used and the platform is Windows, equality and hashing is case-insensitive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/julia-vscode/LanguageServer.jl/blob/295a48901e509bc096f0b2c890665af34957fe00/src/uri2.jl#LL1-L5">source</a></section></article><h2 id="Requests"><a class="docs-heading-anchor" href="#Requests">Requests</a><a id="Requests-1"></a><a class="docs-heading-anchor-permalink" href="#Requests" title="Permalink"></a></h2><h2 id="Protocol"><a class="docs-heading-anchor" href="#Protocol">Protocol</a><a id="Protocol-1"></a><a class="docs-heading-anchor-permalink" href="#Protocol" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 6 July 2020 16:01">Monday 6 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
